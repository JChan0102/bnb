<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bit.bnb.reservation.dao.ReservationDao">
<select id="getReservation" resultType="ReservationInfo">
	SELECT * FROM reservation where roomsId = #{roomsId}
</select>

<select id="getDuration" resultType="int">
	SELECT (TO_DAYS(checkIn)-TO_DAYS(#{nowStr})) FROM reservation WHERE roomsId=#{roomsId} and checkIn>#{checkInStr} order by checkIn limit 0,1
</select>

</mapper>